<config format="xml">

<include file="/etc/clandestine/vars.conf">

<pid file="/tmp/&server_hostname;.pid">

<sslprofile
  name="defaultssl"
  provider="gnutls"
  cafile="/etc/clandestine/ca/private/ca.crt"
  certfile="/etc/clandestine/ca/private/issued/&server_hostname;.crt"
  ciphers="ALL"
  compression="no"
  priority="PFS:SECURE256:-VERS-TLS1.0:-VERS-TLS1.1:-VERS-DTLS1.0:-AES-256-CBC:-AES-256-CCM:-AES-256-GCM"
  ecdhcurve="&ecdh_curve;"
  hash="sha256"
  keyfile="/etc/clandestine/ca/private/private/&server_hostname;.key"
  renegotiation="no"
  requestclientcert="yes">

<cidr
  ipv4clone="28"
  ipv6clone="48">

<server
  name="&server_hostname;"
  description="General-purpose internet relay chat network"
  id="&general_id;"
  network="clandestine">

<oper
  name="&hopm_nickname;"
  password="&hopm_password;"
  host="*@*"
  type="HOPM">

<bind
  address="*"
  port="6667"
  type="servers"
  defer="2">

<bind
  address="*"
  port="6697"
  type="servers"
  sslprofile="defaultssl"
  defer="2">

<connect
  parent="All"
  name="General"
  allow="*"
  port="6667"
  localmax="16"
  useconnectban="yes"
  globalmax="32"
  maxchans="256"
  maxconnwarn="yes"
  resolvehostnames="yes"
  useident="no"
  usednsbl="yes"
  modes="+xW">

<connect
  parent="General"
  name="GeneralSSL"
  allow="*"
  port="6697"
  useconnectban="yes"
  usednsbl="yes"
  resolvehostnames="yes"
  modes="+xW">

<connect
  parent="General"
  name="GeneralAuthenticated"
  allow="*"
  resolvehostnames="yes"
  useident="no"
  useconnectban="yes"
  usednsbl="yes"
  requireaccount="yes"
  registered="yes"
  modes="+xwW">

<include file="/etc/clandestine/include/abbreviation.conf">
<include file="/etc/clandestine/include/admin.conf">
<include file="/etc/clandestine/include/alias.conf">
<include file="/etc/clandestine/include/allowinvite.conf">
<include file="/etc/clandestine/include/alltime.conf">
<include file="/etc/clandestine/include/anticaps.conf">
# <include file="/etc/clandestine/include/antirandom.conf">
# <include file="/etc/clandestine/include/antisnoop.conf">
<include file="/etc/clandestine/include/argon2.conf">
<include file="/etc/clandestine/include/asn.conf">
<include file="/etc/clandestine/include/auditorium.conf">
<include file="/etc/clandestine/include/autoaway.conf">
<include file="/etc/clandestine/include/autodrop.conf">
# <include file="/etc/clandestine/include/autokick.conf"> # auto-kicks if +b is set (non-configurable)
<include file="/etc/clandestine/include/autoop.conf">
<include file="/etc/clandestine/include/bad.conf">
<include file="/etc/clandestine/include/banexception.conf">
<include file="/etc/clandestine/include/bannegate.conf">
<include file="/etc/clandestine/include/banredirect.conf">
<include file="/etc/clandestine/include/bcrypt.conf">
<include file="/etc/clandestine/include/blockamsg.conf">
# <include file="/etc/clandestine/include/blockcaps.conf"> # choose anticaps or blockcaps
<include file="/etc/clandestine/include/blockcolor.conf">
<include file="/etc/clandestine/include/blockhighlight.conf">
<include file="/etc/clandestine/include/blockinvite.conf">
<include file="/etc/clandestine/include/botmode.conf">
<include file="/etc/clandestine/include/callerid.conf">
<include file="/etc/clandestine/include/cap.conf">
<include file="/etc/clandestine/include/cban.conf">
<include file="/etc/clandestine/include/censor.conf">
<include file="/etc/clandestine/include/cgiirc.conf">
<include file="/etc/clandestine/include/chancreate.conf">
<include file="/etc/clandestine/include/chanfilter.conf">
<include file="/etc/clandestine/include/changecap.conf">
<include file="/etc/clandestine/include/chanhistory.conf">
<include file="/etc/clandestine/include/chanlog.conf">
<include file="/etc/clandestine/include/channames.conf">
<include file="/etc/clandestine/include/channelban.conf">
<include file="/etc/clandestine/include/channels.conf">
<include file="/etc/clandestine/include/checkbans.conf">
<include file="/etc/clandestine/include/check.conf">
<include file="/etc/clandestine/include/chghost.conf">
<include file="/etc/clandestine/include/chgident.conf">
<include file="/etc/clandestine/include/chgname.conf">
<include file="/etc/clandestine/include/classban.conf">
<include file="/etc/clandestine/include/class.conf">
<include file="/etc/clandestine/include/clearchan.conf">
<include file="/etc/clandestine/include/clientcheck.conf">
<include file="/etc/clandestine/include/cloaking.conf">
<include file="/etc/clandestine/include/clones.conf">
<include file="/etc/clandestine/include/close.conf">
<include file="/etc/clandestine/include/codepage.conf">
<include file="/etc/clandestine/include/commonchans.conf">
<include file="/etc/clandestine/include/conn_accounts.conf">
<include file="/etc/clandestine/include/conn_banner.conf">
<include file="/etc/clandestine/include/connectban.conf">
<include file="/etc/clandestine/include/connect.conf">
<include file="/etc/clandestine/include/connflood.conf">
<include file="/etc/clandestine/include/conn_join.conf">
<include file="/etc/clandestine/include/conn_join_geoip.conf">
<include file="/etc/clandestine/include/conn_join_ident.conf">
<include file="/etc/clandestine/include/conn_matchident.conf">
<include file="/etc/clandestine/include/conn_require.conf">
<include file="/etc/clandestine/include/conn_strictsasl.conf">
<include file="/etc/clandestine/include/conn_umodes.conf">
<include file="/etc/clandestine/include/conn_vhost.conf">
<include file="/etc/clandestine/include/conn_waitpong.conf">
<include file="/etc/clandestine/include/custompenalty.conf">
<include file="/etc/clandestine/include/customprefix.conf">
<include file="/etc/clandestine/include/customtags.conf">
<include file="/etc/clandestine/include/customtitle.conf">
<include file="/etc/clandestine/include/cycle.conf">
<include file="/etc/clandestine/include/dccallow.conf">
<include file="/etc/clandestine/include/dccblock.conf">
<include file="/etc/clandestine/include/deaf.conf">
<include file="/etc/clandestine/include/defaulttopic.conf">
<include file="/etc/clandestine/include/delayjoin.conf">
<include file="/etc/clandestine/include/delaymsg.conf">
<include file="/etc/clandestine/include/denychans.conf">
<include file="/etc/clandestine/include/disable.conf">
# <include file="/etc/clandestine/include/discordnick.conf"> # broken
<include file="/etc/clandestine/include/dnsbl.conf">
<include file="/etc/clandestine/include/eventexec.conf">
<include file="/etc/clandestine/include/exemptchanops.conf">
<include file="/etc/clandestine/include/extbanbanlist.conf">
<include file="/etc/clandestine/include/extbanredirect.conf">
<include file="/etc/clandestine/include/extbanregex.conf">
<include file="/etc/clandestine/include/fakelist.conf">
<include file="/etc/clandestine/include/filter.conf">
<include file="/etc/clandestine/include/flashpolicyd.conf">
<include file="/etc/clandestine/include/gecosban.conf">
<include file="/etc/clandestine/include/geoban.conf">
<include file="/etc/clandestine/include/geoclass.conf">
<include file="/etc/clandestine/include/geo_maxmind.conf">
<include file="/etc/clandestine/include/globalload.conf">
<include file="/etc/clandestine/include/globops.conf">
<include file="/etc/clandestine/include/haproxy.conf">
<include file="/etc/clandestine/include/hash_gnutls.conf">
<include file="/etc/clandestine/include/helpop.conf">
<include file="/etc/clandestine/include/hidechans.conf">
<include file="/etc/clandestine/include/hideidle.conf">
<include file="/etc/clandestine/include/hidelist.conf">
<include file="/etc/clandestine/include/hidemode.conf">
<include file="/etc/clandestine/include/hideoper.conf">
<include file="/etc/clandestine/include/hostchange.conf">
<include file="/etc/clandestine/include/hostcycle.conf">
<include file="/etc/clandestine/include/httpd_acl.conf">
<include file="/etc/clandestine/include/httpd.conf">
<include file="/etc/clandestine/include/httpd_config.conf">
<include file="/etc/clandestine/include/httpd_stats.conf">
<include file="/etc/clandestine/include/ident.conf">
<include file="/etc/clandestine/include/identmeta.conf">
<include file="/etc/clandestine/include/insane.conf">
<include file="/etc/clandestine/include/inviteexception.conf">
<include file="/etc/clandestine/include/ircv3_accounttag.conf">
<include file="/etc/clandestine/include/ircv3_batch.conf">
<include file="/etc/clandestine/include/ircv3_capnotify.conf">
<include file="/etc/clandestine/include/ircv3_chghost.conf">
<include file="/etc/clandestine/include/ircv3.conf">
<include file="/etc/clandestine/include/ircv3_ctctags.conf">
<include file="/etc/clandestine/include/ircv3_echomessage.conf">
<include file="/etc/clandestine/include/ircv3_invitenotify.conf">
<include file="/etc/clandestine/include/ircv3_labeledresponse.conf">
<include file="/etc/clandestine/include/ircv3_msgid.conf">
<include file="/etc/clandestine/include/ircv3_servertime.conf">
<include file="/etc/clandestine/include/ircv3_sts.conf">
<include file="/etc/clandestine/include/join0.conf">
<include file="/etc/clandestine/include/joinflood.conf">
<include file="/etc/clandestine/include/joinpartsno.conf">
<include file="/etc/clandestine/include/joinpartspam.conf">
<include file="/etc/clandestine/include/jumpserver.conf">
<include file="/etc/clandestine/include/kicknorejoin.conf">
<include file="/etc/clandestine/include/kill_idle.conf">
<include file="/etc/clandestine/include/knock.conf">
# <include file="/etc/clandestine/include/ldapauth.conf"> # breaks if not configured
<include file="/etc/clandestine/include/ldap.conf">
<include file="/etc/clandestine/include/ldapoper.conf">
<include file="/etc/clandestine/include/limits.conf">
<include file="/etc/clandestine/include/lockserv.conf">
<include file="/etc/clandestine/include/log.conf">
<include file="/etc/clandestine/include/maphide.conf">
<include file="/etc/clandestine/include/maxlist.conf">
<include file="/etc/clandestine/include/md5.conf">
<include file="/etc/clandestine/include/messageflood.conf">
<include file="/etc/clandestine/include/mlock.conf">
<include file="/etc/clandestine/include/modenotice.conf">
<include file="/etc/clandestine/include/monitor.conf">
<include file="/etc/clandestine/include/motd.conf">
<include file="/etc/clandestine/include/muteban.conf">
<include file="/etc/clandestine/include/mysql.conf">
<include file="/etc/clandestine/include/namedmodes.conf">
<include file="/etc/clandestine/include/namedstats.conf">
<include file="/etc/clandestine/include/namesx.conf">
# <include file="/etc/clandestine/include/nationalchars.conf"> # better to use codepage instead, but available
<include file="/etc/clandestine/include/nickdelay.conf">
<include file="/etc/clandestine/include/nickflood.conf">
<include file="/etc/clandestine/include/nicklock.conf">
<include file="/etc/clandestine/include/nocreate.conf">
<include file="/etc/clandestine/include/noctcp.conf">
<include file="/etc/clandestine/include/noidletyping.conf">
<include file="/etc/clandestine/include/nokicks.conf">
<include file="/etc/clandestine/include/nonicks.conf">
<include file="/etc/clandestine/include/nonotice.conf">
<include file="/etc/clandestine/include/nopartmsg.conf">
<include file="/etc/clandestine/include/nouidnick.conf">
<include file="/etc/clandestine/include/ojoin.conf">
<include file="/etc/clandestine/include/operchans.conf">
<include file="/etc/clandestine/include/oper.conf">
<include file="/etc/clandestine/include/operjoin.conf">
<include file="/etc/clandestine/include/operlevels.conf">
<include file="/etc/clandestine/include/operlog.conf">
<include file="/etc/clandestine/include/opermodes.conf">
<include file="/etc/clandestine/include/opermotd.conf">
<include file="/etc/clandestine/include/operprefix.conf">
<include file="/etc/clandestine/include/options.conf">
<include file="/etc/clandestine/include/override.conf">
#<include file="/etc/clandestine/include/owoifier.conf"> # adds owo and uwu to everything, breaks everything
<include file="/etc/clandestine/include/passforward.conf">
<include file="/etc/clandestine/include/password_hash.conf">
<include file="/etc/clandestine/include/path.conf">
<include file="/etc/clandestine/include/pbkdf2.conf">
<include file="/etc/clandestine/include/performance.conf">
<include file="/etc/clandestine/include/permchannels.conf">
<include file="/etc/clandestine/include/pgsql.conf">
<include file="/etc/clandestine/include/qrcode.conf">
<include file="/etc/clandestine/include/randquote.conf">
<include file="/etc/clandestine/include/redirect.conf">
<include file="/etc/clandestine/include/regex_glob.conf">
<include file="/etc/clandestine/include/regex_pcre2.conf">
<include file="/etc/clandestine/include/regex_pcre.conf">
<include file="/etc/clandestine/include/regex_posix.conf">
<include file="/etc/clandestine/include/regex_re2.conf">
<include file="/etc/clandestine/include/regex_stdlib.conf">
<include file="/etc/clandestine/include/regex_tre.conf">
<include file="/etc/clandestine/include/remove.conf">
<include file="/etc/clandestine/include/repeat.conf">
<include file="/etc/clandestine/include/restrictchans.conf">
<include file="/etc/clandestine/include/restrictmsg.conf">
<include file="/etc/clandestine/include/restrictmsg_duration.conf">
<include file="/etc/clandestine/include/rline.conf">
<include file="/etc/clandestine/include/rmode.conf">
<include file="/etc/clandestine/include/roleplay.conf">
<include file="/etc/clandestine/include/rotatelog.conf">
<include file="/etc/clandestine/include/sajoin.conf">
<include file="/etc/clandestine/include/sakick.conf">
<include file="/etc/clandestine/include/samode.conf">
<include file="/etc/clandestine/include/samove.conf">
<include file="/etc/clandestine/include/sanick.conf">
<include file="/etc/clandestine/include/sapart.conf">
<include file="/etc/clandestine/include/saquit.conf">
<include file="/etc/clandestine/include/sasl.conf">
<include file="/etc/clandestine/include/satopic.conf">
<include file="/etc/clandestine/include/securelist.conf">
<include file="/etc/clandestine/include/security.conf">
<include file="/etc/clandestine/include/seenicks.conf">
<include file="/etc/clandestine/include/serverban.conf">
<include file="/etc/clandestine/include/services_account.conf">
<include file="/etc/clandestine/include/servprotect.conf">
<include file="/etc/clandestine/include/sethost.conf">
<include file="/etc/clandestine/include/setident.conf">
<include file="/etc/clandestine/include/setidle.conf">
<include file="/etc/clandestine/include/setname.conf">
<include file="/etc/clandestine/include/sha1.conf">
<include file="/etc/clandestine/include/sha256.conf">
<include file="/etc/clandestine/include/sha512.conf">
<include file="/etc/clandestine/include/shed_users.conf">
<include file="/etc/clandestine/include/showfile.conf">
<include file="/etc/clandestine/include/showwhois.conf">
<include file="/etc/clandestine/include/shun.conf">
<include file="/etc/clandestine/include/silence.conf">
<include file="/etc/clandestine/include/spanningtree.conf">
# <include file="/etc/clandestine/include/sqlauth.conf"> # breaks if not configured
<include file="/etc/clandestine/include/sqlite3.conf">
# <include file="/etc/clandestine/include/sqloper.conf"> # breaks if not configured
<include file="/etc/clandestine/include/ssl_gnutls.conf">
<include file="/etc/clandestine/include/sslinfo.conf">
<include file="/etc/clandestine/include/ssl_mbedtls.conf">
<include file="/etc/clandestine/include/sslmodes.conf">
<include file="/etc/clandestine/include/ssl_openssl.conf">
<include file="/etc/clandestine/include/sslrehashsignal.conf">
<include file="/etc/clandestine/include/starttls.conf">
<include file="/etc/clandestine/include/stats_unlinked.conf">
<include file="/etc/clandestine/include/stripcolor.conf">
<include file="/etc/clandestine/include/svshold.conf">
<include file="/etc/clandestine/include/swhois.conf">
<include file="/etc/clandestine/include/teststdrpl.conf">
<include file="/etc/clandestine/include/tgchange.conf">
<include file="/etc/clandestine/include/timedbans.conf">
<include file="/etc/clandestine/include/timedstaticquit.conf">
<include file="/etc/clandestine/include/tline.conf">
<include file="/etc/clandestine/include/topiclock.conf">
<include file="/etc/clandestine/include/totp.conf">
<include file="/etc/clandestine/include/type.conf">
<include file="/etc/clandestine/include/uhnames.conf">
<include file="/etc/clandestine/include/uline.conf">
<include file="/etc/clandestine/include/uninvite.conf">
<include file="/etc/clandestine/include/userip.conf">
<include file="/etc/clandestine/include/vhost.conf">
<include file="/etc/clandestine/include/watch.conf">
<include file="/etc/clandestine/include/websocket.conf">
<include file="/etc/clandestine/include/whowas.conf">
<include file="/etc/clandestine/include/xline_db.conf">
<include file="/etc/clandestine/include/xlinetools.conf">
<include file="/etc/clandestine/include/zombie.conf"> 

# ensure at least 1 new line at the end of the file

